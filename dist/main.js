(()=>{"use strict";const t=JSON.parse('[{"R7":"[Введите город]","Qw":"[Введите ваше имя]","A8":["утро","день","вечер","ночи"],"H8":["Мои задачи","Выполнено"],"vM":"Введите новое задание..."}]'),e=JSON.parse('[{"R7":"[Enter your city]","Qw":"[Enter your name]","A8":["morning","afternoon","evening","night"],"H8":["My tasks","Done"],"vM":"Enter new task..."}]'),o=function(){var o=document.querySelector(".greeting"),n=null,a=new Date;return"en"===window.localStorage.getItem("language")?(n=a.getHours()>=5&&a.getHours()<=12?e[0].A8[0]:a.getHours()>12&&a.getHours()<=16?e[0].A8[1]:a.getHours()>16&&a.getHours()<=23?e[0].A8[2]:e[0].A8[3],o&&(o.textContent="Good ".concat(n,","))):(n=a.getHours()>=5&&a.getHours()<=12?t[0].A8[0]:a.getHours()>12&&a.getHours()<=16?t[0].A8[1]:a.getHours()>16&&a.getHours()<=23?t[0].A8[2]:t[0].A8[3],o&&(n===t[0].A8[0]?o.textContent="Доброе ".concat(n,","):n===t[0].A8[1]||n===t[0].A8[2]?o.textContent="Добрый ".concat(n,","):n===t[0].A8[3]&&(o.textContent="Доброй ".concat(n,",")))),n},n=function(){var t,e=document.querySelector(".date");t="en"===window.localStorage.getItem("language")?(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):(new Date).toLocaleDateString("ru-RU",{weekday:"long",month:"long",day:"numeric"}),e&&(e.textContent=t)};var a=function(){var t=document.querySelector(".time"),e=(new Date).toLocaleTimeString();t&&(t.textContent=e),n(),o(),setTimeout(a,1e3)};const r=a,c=function(t){var e=o(),n=document.querySelector("body"),a=new Image;a.src="https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/".concat(e,"/").concat(t,".jpg"),a.addEventListener("load",(function(){n.style.backgroundImage="url(".concat(a.src,")")}))};var i=document.querySelector(".weather-icon"),s=document.querySelector(".temperature"),u=document.querySelector(".weather-description"),l=document.querySelector(".wind"),d=document.querySelector(".humidity");const h=function(t){return e=this,o=void 0,a=function(){var e,o;return function(t,e){var o,n,a,r,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){c.label=r[1];break}if(6===r[0]&&c.label<a[1]){c.label=a[1],a=r;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(r);break}a[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(t){r=[6,t],n=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e="en"===window.localStorage.getItem("language")?"https://api.openweathermap.org/data/2.5/weather?q=".concat(t.value,"&lang=en&appid=b6d2dfe6b6514321dc225617256b0b17&units=metric"):"https://api.openweathermap.org/data/2.5/weather?q=".concat(t.value,"&lang=ru&appid=b6d2dfe6b6514321dc225617256b0b17&units=metric"),[4,fetch(e)];case 1:return[4,n.sent().json()];case 2:return o=n.sent(),"en"===window.localStorage.getItem("language")?(i.className="weather-icon owf",i.classList.add("owf-".concat(o.weather[0].id)),s.textContent="".concat(o.main.temp,"°C"),u.textContent=o.weather[0].description,l.textContent="Wind speed: ".concat(o.wind.speed," m/s"),d.textContent="Humidity: ".concat(o.main.humidity," %")):(i.className="weather-icon owf",i.classList.add("owf-".concat(o.weather[0].id)),s.textContent="".concat(o.main.temp,"°C"),u.textContent=o.weather[0].description,l.textContent="Скорость ветра: ".concat(o.wind.speed," м/с"),d.textContent="Влажность: ".concat(o.main.humidity," %")),[3,4];case 3:return n.sent(),i.className="weather-icon owf",s.textContent="",u.textContent="",l.textContent="",d.textContent="",document.querySelector(".weather-error").textContent="The weather cannot be displayed :( The city is not correct.",[3,4];case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,r){function c(t){try{s(a.next(t))}catch(t){r(t)}}function i(t){try{s(a.throw(t))}catch(t){r(t)}}function s(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(c,i)}s((a=a.apply(e,o||[])).next())}));var e,o,n,a},m=JSON.parse('[{"text":"Сложнее всего начать действовать, все остальное зависит только от упорства.","author":"Амелия Эрхарт"},{"text":"Надо любить жизнь больше, чем смысл жизни.","author":"Федор Достоевский"},{"text":"Жизнь - это то, что с тобой происходит, пока ты строишь планы.","author":"Джон Леннон"},{"text":"Ваше время ограничено, не тратьте его, живя чужой жизнью.","author":"Стив Джобс"},{"text":"Победа - это еще не все, все - это постоянное желание побеждать.","author":"Винс Ломбарди, тренер по американскому футболу"},{"text":"Если вы думаете, что на что-то способны, вы правы; если думаете, что у вас ничего не получится - вы тоже правы.","author":"Генри Форд"},{"text":"Два самых важных дня в твоей жизни: день, когда ты появился на свет, и день, когда понял, зачем.","author":"Марк Твен"},{"text":"Начинайте делать все, что вы можете сделать – и даже то, о чем можете хотя бы мечтать. В смелости гений, сила и магия.","author":"Иоганн Вольфганг Гете"},{"text":"Лучшая месть – огромный успех.","author":"Фрэнк Синатра"},{"text":"Есть только один способ избежать критики: ничего не делайте, ничего не говорите и будьте никем.","author":"Аристотель"},{"text":"Лучше быть уверенным в хорошем результате, чем надеяться на отличный.","author":"Уоренн Баффет"},{"text":"Некоторые вещи могут завладеть вашим вниманием, но сосредоточьтесь лучше на тех, что завладевают вашим сердцем.","author":"Индийская поговорка"},{"text":"Стоит только поверить, что вы можете – и вы уже на полпути к цели.","author":"Теодор Рузвельт"},{"text":"Упади семь раз и восемь раз поднимись.","author":"Японская поговорка"},{"text":"Когда я освобождаюсь от того, кто я есть, я становлюсь тем, кем я могу быть.","author":"Лао Цзы"},{"text":"Счастье – это не нечто готовое. Счастье зависит только от ваших действий.","author":"Далай Лама"},{"text":"Если нет ветра, беритесь за вёсла.","author":"Латинска поговорка"},{"text":"Успех — это способность идти от поражения к поражению, не теряя оптимизма.","author":"Уинстон Черчилль"},{"text":"Если внутренний голос говорит вам, что вы не можете рисовать – рисуйте как можно больше, тогда этот голос затихнет.","author":"Винсент Ван Гог"},{"text":"Лучшее время, чтобы посадить дерево, было 20 лет назад. Следующий подходящий момент - сегодня.","author":"Китайская поговорка"},{"text":"Неудача – это просто возможность начать снова, но уже более мудро.","author":"Генри Форд"},{"text":"Я уверен: нельзя позволять, чтобы тебя остановило убогое словцо «нельзя».","author":"Ричард Брэнсон"},{"text":"Счастье не в том, чтобы делать всегда, что хочешь, а в том, чтобы всегда хотеть того, что делаешь.","author":"Лев Толстой"},{"text":"Быстрее всего учишься в трех случаях — до 7 лет, на тренингах, и когда жизнь загнала тебя в угол.","author":"Стивен Кови"},{"text":"Не столь важно, как медленно ты идешь, как то, как долго ты идешь, не останавливаясь.","author":"Конфуций"},{"text":"Всегда выбирайте самый трудный путь - на нем вы не встретите конкурентов.","author":"Шарль де Голль"},{"text":"Одна законченная результативная задача стоит полусотни полузаконченных задач.","author":"Малкольм Форбс"},{"text":"Запомните, никто не может заставить вас чувствовать себя неполноценным без вашего на то согласия.","author":"Элеонор Рузвельт"},{"text":"Единственное счастье в жизни — это постоянное стремление вперед.","author":"Эмиль Золя"},{"text":"Ни разу не упасть — не самая большая заслуга в жизни. Главное каждый раз подниматься.","author":"Нельсон Мандела"},{"text":"У истоков каждого успешного предприятия стоит однажды принятое смелое решение.","author":"Питер Друкер, американский экономист"}]'),y=JSON.parse('[{"text":"The most difficult thing is the decision to act, the rest is merely tenacity.","author":"Amelia Earhart"},{"text":"Love life more than the meaning of it.","author":"Fyodor Dostoevsky "},{"text":"Life is what happens to you while you are making other plans.","author":"John Lennon"},{"text":"Your time is limited, so don\'t waste it living someone else\'s life.","author":"Steve Jobs "},{"text":"Victory is not everything, everything is a constant desire to win.","author":"Vince Lombardi, american football coach"},{"text":"Whether you think you can, or think you can\'t … you\'re right.","author":"Henry Ford"},{"text":"The two most important days in your life are the day you are born and the day you find out why.","author":"Mark Twain."},{"text":"Whatever you dream you can do, begin it. Boldness has genius, power and magic in it. Begin it now.","author":"Johann Wolfgang von Goethe"},{"text":"The best revenge is massive success.","author":"Frank Sinatra."},{"text":"There is only one way to avoid criticism: do nothing, say nothing, and be nothing.","author":"Aristotle"},{"text":"It\'s better to be sure in a good result, than hope for an excellent one.","author":"Warren Buffett"},{"text":"There are many things in life that will catch your eye, but only a few will catch your heart.","author":"Indian proverb"},{"text":"Believe you can and you\'re halfway there.","author":"Theodore Roosevelt"},{"text":"Fall down seven times, stand up eight.","author":"Japanese proverb"},{"text":"If I let go of who I am I become who I might be.","author":"Lao Tzu"},{"text":"Happiness is not something readymade.  It comes from your own actions.","author":"Dalai Lama"},{"text":"If the wind will not serve, take to the oars.","author":"Latin proverb"},{"text":"Success consists of going from failure to failure without loss of enthusiasm.","author":"Winston Churchill"},{"text":"If you hear a voice within you say \'you cannot paint,\' then by all means paint, and that voice will be silenced.","author":"Vincent van Gogh"},{"text":"The best time to plant a tree was 20 years ago. The second best time is now.","author":"Chinese proverb"},{"text":"Failure is only the opportunity to begin again, only this time more wisely.","author":"Henry Ford"},{"text":"Happiness does not consist in always doing what you want, but in always wanting what you do.","author":"Leo Tolstoy"},{"text":"You learn the fastest in three cases — before the age of 7, at trainings, and when life has cornered you.","author":"Steven Kovey"},{"text":"It does not matter how slowly you go, as long as you don\'t stop.","author":"Confucius"},{"text":"Always choose the most difficult way, there you will not meet competitors.","author":"Charles De Gaulle"},{"text":"One completed productive task is worth fifty half-completed tasks.","author":"Malcolm Forbes"},{"text":"No one can make you feel inferior without your consent.","author":"Malcolm Forbes"},{"text":"The only happiness in life is a constant striving forward.","author":"Emile Zola"},{"text":"Never falling down is not the greatest merit in life. The main thing is to get up every time.","author":"Nelson Mandela"},{"text":"At the origins of every successful enterprise is a bold decision once made.","author":"Peter F. Drucker, american economist"}]');var p=document.querySelector(".quote"),g=document.querySelector(".author"),v=document.querySelector(".change-quote"),f=null,w=function(){var t=Math.round(30*Math.random());t===f&&(t=Math.round(30*Math.random())),f=t,"rus"===window.localStorage.getItem("language")?(p.textContent="— ".concat(m[t].text),g.textContent="© ".concat(m[t].author)):(p.textContent="— ".concat(y[t].text),g.textContent="© ".concat(y[t].author))};const S=function(t){var e=Math.floor(t),o=Math.floor(e/60);e-=60*o;var n=Math.floor(o/60);return o-=60*n,0===n?"".concat(o,":").concat(String(e%60).padStart(2,"0")):"".concat(String(n).padStart(2,"0"),":").concat(o,":").concat(String(e%60).padStart(2,"0"))};var x=document.querySelector(".timeline"),b=document.querySelector(".progress");var L=document.querySelector(".volume-slider"),q=document.querySelector(".volume-percentage");var k=document.querySelector(".volume-ico"),E=!1,C=null;const A=JSON.parse('[{"title":"Imminence","src":"./assets/sounds/Imminence.mp3","duration":"04:31"},{"title":"A Storm Was Gathering","src":"./assets/sounds/A_Storm_Was_Gathering.mp3","duration":"04:58"},{"title":"Last Mile","src":"./assets/sounds/Last_Mile.mp3","duration":"04:54"},{"title":"Away","src":"./assets/sounds/Away.mp3","duration":"05:07"},{"title":"Shadows of the Past","src":"./assets/sounds/Shadows_Of_The_Past.mp3","duration":"03:50"}]');var I=document.querySelector(".play"),T=document.querySelector(".play-prev"),H=document.querySelector(".play-next"),M=document.querySelectorAll(".play-item"),N=document.querySelector(".length"),_=document.querySelector(".song-name__title"),D=!1,F=0,J=new Audio,R=0,W=function(){J.src=A[F].src,J.currentTime=R,N.textContent=A[F].duration,_.textContent="".concat(A[F].title," — Sleep Dealer");for(var t=0;t<M.length;t+=1)M[t].textContent===A[F].title&&(M[t].style.opacity="2",M[t].previousElementSibling.classList.remove("fa-play"),M[t].previousElementSibling.classList.add("fa-pause"));J.play(),D=!0,I.classList.add("pause")},G=function(){R=0,F+1===A.length?F=0:F+=1;for(var t=0;t<M.length;t+=1)M[t].style.opacity="",M[t].previousElementSibling.classList.remove("fa-pause"),M[t].previousElementSibling.classList.add("fa-play");W()},O=function(){R=0,F-1<0?F=A.length-1:F-=1;for(var t=0;t<M.length;t+=1)M[t].style.opacity="",M[t].previousElementSibling.classList.remove("fa-pause"),M[t].previousElementSibling.classList.add("fa-play");W()};var Q=document.querySelector(".todo-wrapper"),B=document.querySelector(".todo-icon");const P=function(){tt.forEach((function(t){t.addEventListener("click",(function(){t.parentElement.classList.add("hidden"),setTimeout((function(){var e,o;return null===(o=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode)||void 0===o?void 0:o.removeChild(t.parentNode)}),300),setTimeout((function(){return t.parentElement.parentElement.classList.remove("hidden")}),350)}))}))};var V=document.querySelector(".tasks-tab"),Y=document.querySelector(".done-tab"),j=!1,U=document.querySelector(".todo-tasks"),X=document.querySelector(".todo-tasks-done"),z=document.querySelector(".todo-input"),K=document.querySelector(".fa-arrow-up"),Z=document.querySelector(".todo-input"),$=document.querySelector(".todo-tasks"),tt=[],et=[];function ot(){var t=document.createElement("div");t.classList.add("task");var e=document.createElement("i");e.classList.add("fa-regular"),e.classList.add("fa-circle-check");var o=document.createElement("p");o.classList.add("task-text");var n=document.createElement("i");n.classList.add("fa-regular"),n.classList.add("fa-trash-can"),t.append(e),t.append(o),t.append(n),o.textContent=Z.value,Z.value&&($.prepend(t),tt.push(n),et.push(e),Z.value=""),e.addEventListener("click",(function(){j||(e.parentElement.classList.add("hidden"),setTimeout((function(){var t,n;null===(n=null===(t=e.parentNode)||void 0===t?void 0:t.parentNode)||void 0===n||n.removeChild(e.parentNode);var a=new Date,r=document.createElement("div"),c=document.createElement("p"),i=document.createElement("div"),s=document.createElement("i"),u=document.createElement("p");r.classList.add("task-done"),e.classList.add("fa-regular"),e.classList.add("fa-circle-check"),c.classList.add("task-text-done"),i.classList.add("task-date"),s.classList.add("fa-solid"),s.classList.add("fa-calendar-check"),u.classList.add("task-date-text"),i.append(s),i.append(u),r.append(i),r.append(e),r.append(c),X.prepend(r),c.textContent=o.textContent,u.textContent="".concat(a.getDate().toString().padStart(2,"0"),".").concat((a.getMonth()+1).toString().padStart(2,"0"),".").concat(a.getFullYear())}),300))}))}var nt=document.querySelector(".city"),at=document.querySelector(".fa-language"),rt=document.querySelector(".tasks-tab__text"),ct=document.querySelector(".done-tab__text");var it,st,ut,lt,dt,ht,mt=document.querySelector(".name"),yt=Math.round(20*Math.random()).toString().padStart(2,"0"),pt=document.querySelector(".city"),gt=document.querySelector(".tasks-tab__text"),vt=document.querySelector(".done-tab__text");window.addEventListener("beforeunload",(function(){window.localStorage.setItem("name",mt.value),window.localStorage.setItem("city",pt.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(mt.value=window.localStorage.getItem("name")),localStorage.getItem("city")&&(pt.value=window.localStorage.getItem("city")),localStorage.getItem("language")||localStorage.setItem("language","en")})),w(),"en"===localStorage.getItem("language")?(null===(it=document.querySelector(".city"))||void 0===it||it.setAttribute("placeholder","".concat(e[0].R7)),null===(st=document.querySelector(".name"))||void 0===st||st.setAttribute("placeholder","".concat(e[0].Qw)),null===(ut=document.querySelector(".todo-input"))||void 0===ut||ut.setAttribute("placeholder","".concat(e[0].vM))):(null===(lt=document.querySelector(".city"))||void 0===lt||lt.setAttribute("placeholder","".concat(t[0].R7)),null===(dt=document.querySelector(".name"))||void 0===dt||dt.setAttribute("placeholder","".concat(t[0].Qw)),null===(ht=document.querySelector(".todo-input"))||void 0===ht||ht.setAttribute("placeholder","".concat(t[0].vM)),gt.textContent=t[0].H8[0],vt.textContent=t[0].H8[1]),document.querySelector(".slide-next").addEventListener("click",(function(){"20"===yt?c(yt="01"):(yt=(+yt+1).toString().padStart(2,"0"),c(yt))})),document.querySelector(".slide-prev").addEventListener("click",(function(){"01"===yt?c(yt="20"):(yt=(+yt-1).toString().padStart(2,"0"),c(yt))})),window.addEventListener("load",(function(){return h(pt)})),pt.addEventListener("change",(function(){return h(pt)})),pt.addEventListener("change",(function(){document.querySelector(".weather-error").textContent=""})),0===pt.value.length&&pt.setAttribute("placeholder","[Enter your city]"),r(),c(yt),v.addEventListener("click",(function(){[p,g].forEach((function(t){t.classList.remove("visible"),t.classList.add("hidden"),setTimeout((function(){t.classList.remove("hidden"),t.classList.add("visible")}),300),setTimeout((function(){t.classList.remove("visible")}),400)})),setTimeout(w,300)})),function(){I.addEventListener("click",(function(){D?function(){for(var t=0;t<M.length;t+=1)M[t].textContent===A[F].title&&(M[t].previousElementSibling.classList.remove("fa-pause"),M[t].previousElementSibling.classList.add("fa-play"));R=J.currentTime,J.pause(),D=!1,I.classList.remove("pause")}():W()}));for(var t=function(t){M[t].addEventListener("click",(function(){M.forEach((function(t){t.style.opacity="",t.previousElementSibling.classList.remove("fa-pause"),t.previousElementSibling.classList.add("fa-play")}));for(var e=0;e<A.length;e+=1)A[e].title===M[t].textContent&&(F=e);W()}))},e=0;e<M.length;e+=1)t(e);H.addEventListener("click",G),T.addEventListener("click",O),function(t){x&&x.addEventListener("click",(function(e){var o=window.getComputedStyle(x).width,n=e.offsetX/parseInt(o)*t.duration;t.currentTime=n}),!1),b&&setInterval((function(){b.style.width="".concat(t.currentTime/t.duration*100,"%"),document.querySelector(".current").textContent=S(t.currentTime)}),500)}(J),function(t){L&&L.addEventListener("click",(function(e){var o=window.getComputedStyle(L).width,n=e.offsetX/parseInt(o);t.volume=n,q&&(q.style.width="".concat(100*n,"%"))}),!1)}(J),function(t){k&&k.addEventListener("click",(function(){E?(t.volume=C,E=!1,k.classList.remove("fa-volume-xmark"),k.classList.add("fa-volume-high")):(C=t.volume,t.volume=0,E=!0,k.classList.remove("fa-volume-high"),k.classList.add("fa-volume-xmark"))}))}(J),setInterval((function(){"0".concat(S(J.currentTime))===A[F].duration&&G()}),500)}(),B&&B.addEventListener("click",(function(){Q&&(document.querySelector(".opened")?(Q.classList.remove("opened"),Q.classList.add("closed"),setTimeout((function(){return Q.classList.remove("closed")}),320)):Q.classList.add("opened"))})),K&&Z&&(K.addEventListener("click",(function(){ot(),P()})),Z.addEventListener("keydown",(function(t){"Enter"===t.code&&(ot(),P())}))),Y.addEventListener("click",(function(){j||(Y.style.backgroundColor="transparent",V.style.backgroundColor="rgba(37, 37, 37, 0.5)",U.style.display="none",X.style.display="block",z.setAttribute("disabled","disabled"),j=!0)})),V.addEventListener("click",(function(){j&&(Y.style.backgroundColor="rgba(37, 37, 37, 0.5)",V.style.backgroundColor="transparent",U.style.display="block",X.style.display="none",z.removeAttribute("disabled"),j=!1)})),at&&at.addEventListener("click",(function(){var o,a,c,i,s;"en"===window.localStorage.getItem("language")?(window.localStorage.setItem("language","rus"),null===(o=document.querySelector(".city"))||void 0===o||o.setAttribute("placeholder","".concat(t[0].R7)),null===(a=document.querySelector(".name"))||void 0===a||a.setAttribute("placeholder","".concat(t[0].Qw)),rt.textContent=t[0].H8[0],ct.textContent=t[0].H8[1],null===(c=document.querySelector(".todo-input"))||void 0===c||c.setAttribute("placeholder","".concat(t[0].vM)),n(),w(),nt&&h(nt),r()):(window.localStorage.setItem("language","en"),null===(i=document.querySelector(".city"))||void 0===i||i.setAttribute("placeholder","".concat(e[0].R7)),null===(s=document.querySelector(".name"))||void 0===s||s.setAttribute("placeholder","".concat(e[0].Qw)),rt.textContent=e[0].H8[0],ct.textContent=e[0].H8[1],document.querySelector(".todo-input").setAttribute("placeholder","".concat(e[0].vM)),n(),w(),nt&&h(nt),r())}))})();
//# sourceMappingURL=main.js.map